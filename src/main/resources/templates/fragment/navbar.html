<header th:fragment="navbar" class="p-3 bg-light">
  <div class="container">
    <div
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
    >
      <a
        href="/"
        class="d-flex align-items-center mb-2 mb-lg-0 text-decoration-none text-dark"
      >
        <svg
          aria-hidden="true"
          class="pre-logo-svg"
          focusable="false"
          viewBox="0 0 24 24"
          role="img"
          width="40px"
          height="40px"
          fill="none"
        >
          <path
            fill="currentColor"
            fill-rule="evenodd"
            d="M21 8.719L7.836 14.303C6.74 14.768 5.818 15 5.075 15c-.836 0-1.445-.295-1.819-.884-.485-.76-.273-1.982.559-3.272.494-.754 1.122-1.446 1.734-2.108-.144.234-1.415 2.349-.025 3.345.275.2.666.298 1.147.298.386 0 .829-.063 1.316-.19L21 8.719z"
            clip-rule="evenodd"
          ></path>
        </svg>
      </a>

      <ul
        class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"
      >
        <li>
          <a href="/home" class="nav-link px-2 ms-lg-4 text-dark">Home</a>
        </li>
        <li>
          <a href="/products" class="nav-link px-2 ms-lg-4 text-dark"
            >Product</a
          >
        </li>
        <li>
          <a href="#" class="nav-link px-2 ms-lg-4 text-dark">Cart</a>
        </li>
      </ul>

      <div class="text-end">
        <a
          sec:authorize="isAnonymous()"
          href="/login"
          type="button"
          class="btn btn-outline-dark me-2 btn-sm"
        >
          Login
        </a>
        <a
          href="/register"
          sec:authorize="isAnonymous()"
          type="button"
          class="btn btn-dark btn-sm"
        >
          Register
        </a>

        <div sec:authorize="isAuthenticated()" class="nav-item dropdown">
          <button
            class="btn btn-light btn-sm border border-dark d-flex align-items-center"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20px"
              height="20px"
              fill="currentColor"
              class="bi bi-person-circle me-2"
              viewBox="0 0 16 16"
            >
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
              <path
                fill-rule="evenodd"
                d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"
              />
            </svg>
            <span sec:authentication="name" id="current-user"></span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end text-end">
            <li sec:authorize="hasRole('ROLE_ADMIN')">
              <a class="dropdown-item" href="/users">Manage Users</a>
            </li>
            <li>
              <a
                class="dropdown-item"
                th:href="@{'/user/' + ${#authentication.name} + '/edit'}"
                >Edit Profile</a
              >
            </li>
            <li><a class="dropdown-item" href="#">Order History</a></li>
            <li>
              <hr class="dropdown-divider my-2" />
            </li>
            <li>
              <a class="dropdown-item" href="/logout">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>
